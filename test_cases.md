  ## TS01_Wordpress

| ID тест-кейса | Название                    | Шаги                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | Ожидаемый результат                                                                                                                                                                                     |
|---------------|-----------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| TC01          | Создание пользователя       | 1. Создать пользователя через API. Сохранить данные в expected_data<br>{"username": "JohnDoe",<br>"email": "johndoe@johndoe.ru",<br>"password": "johndoejohndoejohndoe"}. Сохранить ID пользователя<br>2. Проверить статус-код запроса на создание.<br>3. Сделать запрос к БД через pyodbc по полученному ID пользователя.<br>4. Сравнить ожидаемые и полученные результаты.<br><br>Постусловие: удалить созданного пользователя запросом к БД.                                                                                                                                                                                                                                                                                                                                                            | 1. API срабатывает, пользователь создается. <br>2. Статус-код совпадает с ожидаемым 201.<br>3. Запись присутствует в БД. <br>4. ОР и ФР совпадают.                                                      |
| TC02          | Редактирование пользователя | Предусловия: Создать пользователя через API. Сохранить ID пользователя. Сохранить данные в expected_data<br>{"username": "JohnDoe",<br>"email": "johndoe@johndoe.ru",<br>"password": "johndoejohndoejohndoe"}.<br><br>1. Изменить данные пользователя на <br>{"name": "Иван Иванов",<br>"first_name": "Chuck",<br>"last_name": "Norris","email": "ivanov@ivan.com",<br>"password": "ivanov"}<br>Сохранить данные в changed_data.<br>2. Проверить статус-код 200 запроса на изменение.<br>3. Сделать запрос к БД через pyodbc по полученному ID пользователя.<br>4. Сравнить ожидаемые и полученные результаты на предмет несовпадения(email, password).<br>5. Сравнить измененные данные и полученные результаты на предмет совпадения.<br><br>Постусловие: удалить созданного пользователя запросом к БД. | 1. API срабатывает, пользователь изменяется.<br>2. Сервер возвращает ответ с обновленными полями, статус-код 200.<br>3. Запись присутствует в БД<br>4. Значения не совпадают.<br>5. Значения совпадают. |
| TC03          | Удаление пользователя       | Предусловия: Создать пользователя через API. Сохранить ID <br/>пользователя.<br>{"username": "JohnDoe",<br>"email": "johndoe@johndoe.ru",<br>"password": "johndoejohndoejohndoe"}.<br><br>1. Отправить запрос DELETE по ID созданного пользователя.<br>2. Проверить статус-код 200 запроса на удаление.<br>3. Сделать запрос к БД через pyodbc по полученному ID пользователя. Проверить отсутствие пользователя в таблице wp_users.                                                                                                                                                                                                                                                                                                                                                                       | 1. API срабатывает, пользователь удаляется.<br>2.Статус-код 200.<br>3. Запрос пользователя в БД возвращает пустой список.                                                                               |
| TC04          | Создание поста              | 1. Создать пост через API. Сохранить данные в expected_data<br>{"title": "some_title",<br>"content": "some_content"}. Сохранить ID поста<br>2. Проверить статус-код запроса на создание.<br>3. Сделать запрос к БД через pyodbc по полученному ID поста<br>4. Сравнить ожидаемые и полученные результаты.<br><br>Постусловие: удалить созданный пост запросом к БД.                                                                                                                                                                                                                                                                                                                                                                                                                                        | 1. API срабатывает, пост создается.<br>2. Статус-код 201.<br>3. Запись присутствует в БД.<br>4. ОР и ФР совпадают.                                                                                      |
| TC05          | Редактирование поста        | Предусловия: Создать пост через API. Сохранить данные в expected_data.<br><br>1. Изменить данные <br>{"title": "some_another_title",<br>"content": "some_another_content", "status": "publish", "comment_status": "closed"}. Сохранить данные в в changed_data.<br>2.  Проверить статус-код 200 запроса на изменение.<br>3. Сделать запрос к БД через pyodbc по полученному ID поста.<br>4. Сравнить ожидаемые и полученные результаты на предмет несовпадения(title, content).<br>6. Сравнить измененные данные и полученные результаты на предмет совпадения.<br><br>Постусловие: удалить созданный пост запросом к БД.                                                                                                                                                                                  | 1. API срабатывает, пост изменяется.<br>2. Статус-код 200.<br>3. Запись присутствует в БД<br>4. Статус код соответствует 200.<br>5. Значения не совпадают.<br>6. Значения совпадают.                    |
| TC06          | Удаление поста              | Предусловия: Создать пост через API. Сохранить ID поста.<br><br>1. Отправить DELETE-запрос по ID созданного поста.<br>2. Проверить статус-код запроса на удаление.<br>3. Сделать запрос к БД через pyodbc по полученному ID поста. Проверить значение атрибута {"status"}.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | 1. API срабатывает, пост удаляется.<br>2. Статус код 200.<br>3. Запись присутствует в БД. Значение атрибута status=trash.                                                                               |
| TC07          | Создание комментария        | Предусловия: Создать пост через API. Сохранить ID поста.<br><br>1. Создать через API комментарий. {"post": "<сохраненный ID поста>", "content": "some_content"}.<br> Сохранить ID комментария и данные в expected_data.<br>2. Проверить статус-код запроса на создание.<br>3. Сделать запрос к БД через pyodbc по полученному ID комментария.<br>4. Сравнить ожидаемые и полученные результаты.<br><br>Постусловие: удалить созданные пост и комментарий запросом к БД.                                                                                                                                                                                                                                                                                                                                    | 1. API срабатывает, комментарий создается.<br>2. Статус-код 201.<br>3. Запись присутствует в БД.<br>4. ОР и ФР совпадают.                                                                               |
| TC08          | Редактирование комментария  | Предусловия: Создать пост через API. Сохранить ID поста.<br>Создать через API комментарий. {"post": "<сохраненный ID поста>", "content": "some_content"}.<br>Сохранить ID комментария и данные в old_data.<br><br>1. Изменить комментарий {"content":"Hi there!", "author_name": "ben.kenobi"}. Сохранить данные как new_data.<br>2. Проверить статус-код 200 запроса на изменение.<br>3. Сделать запрос к БД через pyodbc по полученному ID комментария. Сохранить полученный результат как db_data.<br>4. Сравнить old_data и db_data на несовпадение content.<br>5. Сравнить new_data и db_data на совпадение.<br><br>Постусловие: удалить созданные комментарий и пост.                                                                                                                                | 1. API срабатывает, комментарий изменяется.<br>2. Статус-код 200.<br>3. Запись присутствует в БД.<br>4.Значения не совпадают.<br>5. Значения совпадают.                                                 |
| TC09          | Удаление комментария        | Предусловия: Создать пост через API. Сохранить ID поста.<br>Создать через API комментарий. {"post": "<сохраненный ID поста>", "content": "some_content"}.<br>Сохранить ID комментария.<br><br>1. Отправить DELETE-запрос по ID созданного комментария.<br>2. Проверить статус-код запроса на удаление.<br>3. Сделать запрос к БД через pyodbc по полученному ID комментария. Проверить значение атрибута {"status"}.                                                                                                                                                                                                                                                                                                                                                                                       | 1. API срабатывает, пост удаляется.<br>2. Статус код 200.<br>3. Запись присутствует в БД. Значение атрибута status=trash.                                                                               |
